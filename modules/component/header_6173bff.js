define("modules/component/header.jsx",function(e,t,a){"use strict";var c=e("modules/store/type.jsx"),s=ReactRouter.Link,l=e("modules/action/search.jsx");a.exports=React.createClass({displayName:"exports",mixins:[Reflux.connect(c,"cls")],getDefaultProps:function(){return{url:"img/haederLogo/header-logo.png",home:"home"}},getInitialState:function(){var e={};return e[this.props.home]="cur",{cls:e,searchDetailValue:["热门游戏","王者荣耀","客厅游戏","移动游戏","娱乐","颜值","科技"]}},goHome:function(){ReactRouter.hashHistory.replace("/")},gotoSearch:function(e){l.changeSearch(e.target.value);var t="",a=this.state.searchDetailValue;13===e.keyCode&&(e.target.parentNode.nextSibling.style.display="none",ReactRouter.hashHistory.replace("/live/"+e.target.value),l.changeSearch(e.target.value),t=e.target.value,a.unshift(t)),this.setState({searchDetailValue:a})},changeNav:function(e){""===e&&(e="home");var t={};t[e]="cur",this.setState({cls:t})},hideSearchDetail:function(){},showSearchDetail:function(e){e.stopPropagation(),e.target.parentNode.nextSibling.style.display="block"},showSearchResult:function(e){this.refs.searchVal.value=e.target.innerHTML,l.changeSearch(this.refs.searchVal.value),this.refs.searchVal.focus()},searchDetailValue:function(){var e=this.state.searchDetailValue.slice(0,10);return e.map(function(e,t){return React.createElement("li",{key:t},e)})},render:function(){return React.createElement("div",{className:"header"},React.createElement("div",{className:"container"},React.createElement("img",{src:this.props.url,onClick:this.goHome,className:"pull-left"}),React.createElement("div",{className:"pull-right signs"},React.createElement("div",{className:"search"},React.createElement("input",{type:"text",placeholder:"房间/主播/分类/视频",onKeyUp:this.gotoSearch,ref:"searchVal",onFocus:this.showSearchDetail}),React.createElement("span",{className:"glyphicon glyphicon-search searchSign"})),React.createElement("ul",{ref:"uls",className:"searchDetailValue",onClick:this.showSearchResult},this.searchDetailValue()),React.createElement("a",{href:""},React.createElement("span",{className:"icon glyphicon glyphicon-phone"}),React.createElement("span",null,"下载"),React.createElement("i",null)),React.createElement("a",{href:""},React.createElement("span",{className:"icon glyphicon glyphicon-facetime-video"}),React.createElement("span",null,"短视频"),React.createElement("i",null)),React.createElement("a",{href:""},React.createElement("span",{className:"icon glyphicon glyphicon-user"}),React.createElement("span",{className:"login"},"登录"),React.createElement("span",null,"注册"))),React.createElement("ul",{className:"nav nav-pills nav-justified"},React.createElement("li",{className:this.state.cls.home,onClick:this.changeNav.bind(this,"home")},React.createElement(s,{to:"/"},"首页")),React.createElement("li",{className:this.state.cls.live,onClick:this.changeNav.bind(this,"live")},React.createElement(s,{to:"/live/live"},"直播")),React.createElement("li",{ref:"headerClassify",className:this.state.cls.classify,onClick:this.changeNav.bind(this,"classify")},React.createElement(s,{to:"/classify/classify"},"分类")),React.createElement("li",{className:this.state.cls.games,onClick:this.changeNav.bind(this,"games")},React.createElement(s,{to:"/games"},"游戏")),React.createElement("li",{className:this.state.cls.buy,onClick:this.changeNav.bind(this,"buy")},React.createElement(s,{to:"/buy"},"商城")),React.createElement("li",{className:this.state.cls.fish,onClick:this.changeNav.bind(this,"fish")},React.createElement(s,{to:"/fish"},"鱼吧")))))},componentDidMount:function(){var e=this.props.data.slice(this.props.data.lastIndexOf("/")+1);""===e&&(e="home"),this.changeNav(e),document.onclick=function(e){this.refs.uls.style.display=e.target===this.refs.searchVal?"block":"none"}.bind(this)},componentDidUpdete:function(){var e=this.props.data.slice(this.props.data.lastIndexOf("/")+1);""===e&&(e="home"),this.changeNav(e)}})});