function Game(i,t,e,s,h,r,n,o,a,c,f,d,u,w,g){this.ctx=i,this.bj=t,this.logo=e,this.ui=s,this.chuizi=h,this.bear=r,this.i=0,this.life=n,this.life1=o,this.num_1=a,this.num_3=c,this.cw=f,this.cwk=d,this.cd=u,this.bgsound=w,this.clicksound=g,this.menuShow=!1,this.cwkX=16,this.lifeNum=3,this.scores=0}Game.prototype={constructor:Game,renderbj:function(){this.ctx.drawImage(this.bj,0,0)},renderlogo:function(){this.ctx.drawImage(this.logo,0,0)},renderui:function(){this.ctx.drawImage(this.ui,0,0,60,16,(this.ctx.canvas.width-60)/2,190,60,16)},renderbear:function(){this.ctx.drawImage(this.bear.imgArr[this.bear.i],this.bear.p*this.bear.width,0,this.bear.width,60,this.bear.positionarr[this.bear.idx].x,this.bear.positionarr[this.bear.idx].y,this.bear.width,60)},renderchuizi:function(i,t){this.ctx.drawImage(this.chuizi,0,0,87,60,i,t,87,60)},renderf:function(i,t){this.ctx.drawImage(this.chuizi,86,0,87,60,i,t,87,60)},renderLife:function(){this.ctx.drawImage(this.life,0,0,19,16,10,10,19,16)},renderLife1:function(){this.ctx.drawImage(this.life1,0,0,19,16,20+this.life.width,10,19,16)},renderLifeNum:function(){for(var i=this.lifeNum.toString(),t=i.split(""),e=0;e<t.length;e++)this.ctx.drawImage(this.num_1,12*t[e],0,12,15,30+this.life.width+this.life1.width+12*e,10,12,15)},renderScores:function(){for(var i=this.scores.toString(),t=i.split(""),t=t.reverse(),e=0;e<t.length;e++)this.ctx.drawImage(this.num_3,12*t[e],0,12,15,this.ctx.canvas.width-12*(e+2),this.ctx.canvas.height-20,12,15)},menu:function(){this.ctx.drawImage(this.cd,10,this.ctx.canvas.height-50)},soundMenu:function(){this.ctx.drawImage(this.ui,120,64,67,16,5,this.ctx.canvas.height-40,65,16),this.ctx.drawImage(this.ui,120,0,60,16,5,this.ctx.canvas.height-60,60,16),this.ctx.drawImage(this.ui,60,48,60,16,5,this.ctx.canvas.height-80,60,16)},chnageLifeNum:function(){2===this.bear.i?(this.lifeNum--,this.lifeNum||(this.renderlogo(),this.gameOver())):this.scores+=this.bear.i+1},rendercw:function(){this.ctx.drawImage(this.cw,(this.ctx.canvas.width-this.cw.width)/2,180)},rendercwk:function(){this.ctx.drawImage(this.cwk,(this.ctx.canvas.width-this.cw.width)/2+this.cwkX,(this.ctx.canvas.height-this.cw.height)/2+136)},bind:function(){var i=this;document.onkeydown=function(t){if(37===t.keyCode)i.cwkX=16,i.rendercw(),i.rendercwk();else if(39===t.keyCode)i.cwkX=50,i.rendercw(),i.rendercwk();else if(13===t.keyCode)return 16===i.cwkX?(i.init(),i.start(),i.click1(),void i.keyboard()):50===i.cwkX?(i.init(),i.renderbj(),i.renderlogo(),void i.leaveGame()):void 0}},init:function(){this.i=0,this.lifeNum=3,this.scores=0,this.bear.reset()},gameOver:function(){this.stop(),this.rendercw(),this.rendercwk(),this.bind()},leaveGame:function(){this.ctx.drawImage(this.ui,120,16,60,16,(this.ctx.canvas.width-60)/2,(this.ctx.canvas.height-16)/2+40,60,16)},keyboard:function(){var i=this;document.onkeydown=function(t){i.bear.isDie!==!0&&(37===t.keyCode&&(i.renderf(i.bear.positionarr[1].x,i.bear.positionarr[1].y),1===i.bear.idx&&(i.clicksound.play(),i.bear.die(),i.chnageLifeNum())),38===t.keyCode&&(i.renderf(i.bear.positionarr[0].x,i.bear.positionarr[0].y),0===i.bear.idx&&(i.clicksound.play(),i.bear.die(),i.chnageLifeNum())),39===t.keyCode&&(i.renderf(i.bear.positionarr[3].x,i.bear.positionarr[3].y),3===i.bear.idx&&(i.clicksound.play(),i.bear.die(),i.chnageLifeNum())),40===t.keyCode&&(i.renderf(i.bear.positionarr[4].x,i.bear.positionarr[4].y),4===i.bear.idx&&(i.clicksound.play(),i.bear.die(),i.chnageLifeNum())),32===t.keyCode&&(i.renderf(i.bear.positionarr[2].x,i.bear.positionarr[2].y),2===i.bear.idx&&(i.clicksound.play(),i.bear.die(),i.chnageLifeNum())))}},click:function(){var i=this;this.ctx.canvas.onclick=function(t){t.offsetX>(i.ctx.canvas.width-60)/2&&t.offsetX<(i.ctx.canvas.width-60)/2+60&&t.offsetY>190&&t.offsetY<206&&(i.start(),i.off(),i.keyboard(),i.click1()),t.offsetX>10&&t.offsetX<50&&t.offsetY>this.height-20&&t.offsetY<this.height&&(i.menuShow?(i.renderbj(),i.renderlogo(),i.renderui(),i.menuShow=!1):(i.soundMenu(),i.menuShow=!0)),i.menuShow&&t.offsetX>=34&&t.offsetX<=50&&t.offsetY>=this.height-40&&t.offsetY<=this.height-20&&i.bgsound.play(),i.menuShow&&t.offsetX>=54&&t.offsetX<=70&&t.offsetY>=this.height-40&&t.offsetY<=this.height-20&&i.bgsound.pause()}},click1:function(){var i=this;this.ctx.canvas.onclick=function(t){t.offsetX>10&&t.offsetX<50&&t.offsetY>this.height-20&&t.offsetY<this.height&&(i.menuShow?(i.start(),i.menuShow=!1):(i.stop(),i.soundMenu(),i.menuShow=!0)),i.menuShow&&t.offsetX>=34&&t.offsetX<=50&&t.offsetY>=this.height-40&&t.offsetY<=this.height-20&&i.bgsound.play(),i.menuShow&&t.offsetX>=54&&t.offsetX<=70&&t.offsetY>=this.height-40&&t.offsetY<=this.height-20&&i.bgsound.pause(),i.menuShow&&t.offsetX>=10&&t.offsetX<=70&&t.offsetY>=this.height-60&&t.offsetY<=this.height-40&&(i.start(),i.menuShow=!1),i.menuShow&&t.offsetX>=10&&t.offsetX<=70&&t.offsetY>=this.height-80&&t.offsetY<=this.height-60&&(i.off(),i.stop(),i.renderbj(),i.renderlogo(),i.leaveGame(),i.menuShow=!1)}},start:function(){var i=this;this.timer=setInterval(function(){i.i++,i.clear(),i.renderbj(),i.renderbear(),i.renderLife(),i.renderLife1(),i.renderLifeNum(),i.renderScores(),i.i%5===0&&i.bear.growup(),i.bear.isDie&&i.renderchuizi(i.bear.positionarr[i.bear.idx].x,i.bear.positionarr[i.bear.idx].y)},20)},stop:function(){clearInterval(this.timer)},off:function(){this.ctx.canvas.onclick=null},clear:function(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}};